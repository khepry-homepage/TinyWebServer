var g=Object.defineProperty,V=Object.defineProperties;var _=Object.getOwnPropertyDescriptors;var c=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;var p=(o,e,t)=>e in o?g(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,m=(o,e)=>{for(var t in e||(e={}))w.call(e,t)&&p(o,t,e[t]);if(c)for(var t of c(e))h.call(e,t)&&p(o,t,e[t]);return o},d=(o,e)=>V(o,_(e));import{a as f}from"./index-25108c0c.js";import{_ as v}from"../js/index-68386c23.js";const F=Vue.defineComponent({setup(){const o=VueRouter.useRouter(),e=naive.useMessage(),t=Vue.reactive({loginForm:{usernameStatus:"null",passwordStatus:"null",username:"user1",password:"user1"}}),u=s=>{let n=new RegExp("^[a-zA-Z][a-zA-Z0-9]*$"),r=new RegExp("^$");t.loginForm.usernameStatus=n.test(s)?"success":t.loginForm.usernameStatus=r.test(s)?null:"error",t.loginForm.usernameStatus!="success"&&e.error("\u7528\u6237\u540D\u7531\u5B57\u6BCD\u6570\u5B57\u7EC4\u6210\u4E14\u5FC5\u987B\u4EE5\u5B57\u6BCD\u5F00\u5934")},l=s=>{let n=new RegExp("^[a-zA-Z][a-zA-Z0-9]*$"),r=new RegExp("^$");t.loginForm.passwordStatus=n.test(s)?"success":t.loginForm.passwordStatus=r.test(s)?null:"error",t.loginForm.passwordStatus!="success"&&e.error("\u5BC6\u7801\u7531\u5B57\u6BCD\u6570\u5B57\u7EC4\u6210")},i=()=>{f.login({loginForm:t.loginForm}).then(s=>{e.success("\u767B\u5F55\u6210\u529F\uFF0C\u8FDB\u5165\u4E3B\u9875\u9762..."),sessionStorage.setItem("token","web_server"),o.push({name:"HelloWorld"})}).catch(s=>{e.error("\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u786E\u8BA4\u7528\u6237\u540D\u4E0E\u5BC6\u7801\u6B63\u786E"),console.log(s)})};return d(m({},Vue.toRefs(t)),{checkUsername:u,checkPassword:l,login:i})}}),k={id:"container"},S={action:"",id:"loginForm",autocomplete:"on"},C=Vue.createTextVNode(" \u767B\u5F55 "),x=Vue.createTextVNode(" \u6CE8\u518C ");function y(o,e,t,u,l,i){const s=Vue.resolveComponent("n-input"),n=Vue.resolveComponent("n-button"),r=Vue.resolveComponent("router-link");return Vue.openBlock(),Vue.createElementBlock("div",k,[Vue.createElementVNode("form",S,[Vue.createVNode(s,{placeholder:"\u7528\u6237\u540D",value:o.loginForm.username,"onUpdate:value":e[0]||(e[0]=a=>o.loginForm.username=a),style:{width:"60%"},status:o.loginForm.usernameStatus,"on-change":o.checkUsername,"input-props":{autocomplete:"on"},clearable:""},{prefix:Vue.withCtx(()=>[]),_:1},8,["value","status","on-change"]),Vue.createVNode(s,{type:"password","show-password-on":"click",placeholder:"\u5BC6\u7801","input-props":{autocomplete:"on"},maxlength:8,value:o.loginForm.password,"onUpdate:value":e[1]||(e[1]=a=>o.loginForm.password=a),status:o.loginForm.passwordStatus,"on-change":o.checkPassword,style:{width:"60%"},clearable:""},{prefix:Vue.withCtx(()=>[]),_:1},8,["value","status","on-change"])]),Vue.createVNode(n,{type:"primary",onClick:o.login,style:{width:"60%"}},{default:Vue.withCtx(()=>[C]),_:1},8,["onClick"]),Vue.createVNode(r,{to:"/register"},{default:Vue.withCtx(()=>[x]),_:1})])}const E=v(F,[["render",y],["__scopeId","data-v-092781e0"]]);export{E as default};
