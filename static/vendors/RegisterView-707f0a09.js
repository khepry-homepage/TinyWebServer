var g=Object.defineProperty,w=Object.defineProperties;var V=Object.getOwnPropertyDescriptors;var m=Object.getOwnPropertySymbols;var f=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;var d=(e,s,r)=>s in e?g(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,l=(e,s)=>{for(var r in s||(s={}))f.call(s,r)&&d(e,r,s[r]);if(m)for(var r of m(s))h.call(s,r)&&d(e,r,s[r]);return e},p=(e,s)=>w(e,V(s));import{a as _}from"./index-25108c0c.js";import{_ as F}from"../js/index-68386c23.js";const v=Vue.defineComponent({setup(){const e=naive.useMessage(),s=VueRouter.useRouter(),r=Vue.reactive({registerForm:{usernameStatus:"null",passwordStatus:"null",confirmPasswordStatus:"null",username:"user1",password:"user1",confirmPassword:"user1"}}),u=t=>{let a=new RegExp("^[a-zA-Z][a-zA-Z0-9]*$"),o=new RegExp("^$");r.registerForm.usernameStatus=a.test(t)?"success":r.registerForm.usernameStatus=o.test(t)?null:"error",r.registerForm.usernameStatus!="success"&&e.error("\u7528\u6237\u540D\u7531\u5B57\u6BCD\u6570\u5B57\u7EC4\u6210\u4E14\u5FC5\u987B\u4EE5\u5B57\u6BCD\u5F00\u5934")},i=t=>{let a=new RegExp("^[a-zA-Z][a-zA-Z0-9]*$"),o=new RegExp("^$");r.registerForm.passwordStatus=a.test(t)?"success":r.registerForm.passwordStatus=o.test(t)?null:"error",r.registerForm.passwordStatus!="success"&&e.error("\u5BC6\u7801\u7531\u5B57\u6BCD\u6570\u5B57\u7EC4\u6210")},c=t=>{r.registerForm.confirmPasswordStatus=t==r.registerForm.password?"success":"error",r.registerForm.confirmPasswordStatus!="success"&&e.error("\u786E\u4FDD\u4E24\u6B21\u8F93\u5165\u7684\u5BC6\u7801\u4E00\u81F4")},n=()=>{let t=r.registerForm;u(t.username),i(t.password),c(t.confirmPassword),t.usernameStatus=="success"&&t.passwordStatus=="success"&&t.confirmPasswordStatus=="success"&&_.register({registerForm:r.registerForm}).then(a=>{e.success("\u6CE8\u518C\u6210\u529F, \u8FD4\u56DE\u767B\u5F55\u9875\u9762..."),s.push({name:"LoginView"})}).catch(a=>{e.error("\u6CE8\u518C\u5931\u8D25, \u5DF2\u5B58\u5728\u76F8\u540C\u7528\u6237")})};return p(l({},Vue.toRefs(r)),{checkUsername:u,checkPassword:i,checkConfirmPassword:c,register:n})}}),S={id:"container"},C={action:"",id:"registerForm"},P=Vue.createTextVNode(" \u6CE8\u518C "),k=Vue.createTextVNode("\u5DF2\u6CE8\u518C\u8FC7, \u76F4\u63A5"),y=Vue.createTextVNode("\u767B\u5F55");function N(e,s,r,u,i,c){const n=Vue.resolveComponent("n-input"),t=Vue.resolveComponent("n-button"),a=Vue.resolveComponent("router-link");return Vue.openBlock(),Vue.createElementBlock("div",S,[Vue.createElementVNode("form",C,[Vue.createVNode(n,{placeholder:"\u7528\u6237\u540D",value:e.registerForm.username,"onUpdate:value":s[0]||(s[0]=o=>e.registerForm.username=o),style:{width:"60%"},"input-props":{autocomplete:"on"},status:e.registerForm.usernameStatus,clearable:""},{prefix:Vue.withCtx(()=>[]),_:1},8,["value","status"]),Vue.createVNode(n,{type:"password",placeholder:"\u5BC6\u7801",maxlength:8,"input-props":{autocomplete:"on"},value:e.registerForm.password,"onUpdate:value":s[1]||(s[1]=o=>e.registerForm.password=o),status:e.registerForm.passwordStatus,"on-change":e.checkPassword,style:{width:"60%"},clearable:""},{prefix:Vue.withCtx(()=>[]),_:1},8,["value","status","on-change"]),Vue.createVNode(n,{type:"password",placeholder:"\u786E\u8BA4\u5BC6\u7801",maxlength:8,"input-props":{autocomplete:"off"},value:e.registerForm.confirmPassword,"onUpdate:value":s[2]||(s[2]=o=>e.registerForm.confirmPassword=o),status:e.registerForm.confirmPasswordStatus,"on-change":e.checkConfirmPassword,style:{width:"60%"},clearable:""},{prefix:Vue.withCtx(()=>[]),_:1},8,["value","status","on-change"])]),Vue.createVNode(t,{type:"primary",onClick:e.register,style:{width:"60%"}},{default:Vue.withCtx(()=>[P]),_:1},8,["onClick"]),Vue.createElementVNode("div",null,[k,Vue.createVNode(a,{to:"/login"},{default:Vue.withCtx(()=>[y]),_:1})])])}const E=F(v,[["render",N],["__scopeId","data-v-10692867"]]);export{E as default};
